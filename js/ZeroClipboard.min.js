/*!
 * zeroclipboard
 * The Zero Clipboard library provides an easy way to copy text to the clipboard using an invisible Adobe Flash movie, and a JavaScript interface.
 * Copyright 2012 Jon Rohan, James M. Greene, .
 * Released under the MIT license
 * http://jonrohan.github.com/ZeroClipboard/
 * v1.1.6
 */(function(){"use strict";var a=function(a,b){var c=a.style[b];a.currentStyle?c=a.currentStyle[b]:window.getComputedStyle&&(c=document.defaultView.getComputedStyle(a,null).getPropertyValue(b));if(c=="auto"&&b=="cursor"){var d=["a"];for(var e=0;e<d.length;e++)if(a.tagName.toLowerCase()==d[e])return"pointer"}return c},b=function(a){a||(a=window.event);var b;this!==window?b=this:a.target?b=a.target:a.srcElement&&(b=a.srcElement),k.prototype._singleton.setCurrent(b)},c=function(a,b,c){a.addEventListener?a.addEventListener(b,c,!1):a.attachEvent&&a.attachEvent("on"+b,c)},d=function(a,b,c){a.removeEventListener?a.removeEventListener(b,c,!1):a.detachEvent&&a.detachEvent("on"+b,c)},e=function(a,b){if(a.addClass)return a.addClass(b),a;if(b&&typeof b=="string"){var c=(b||"").split(/\s+/);if(a.nodeType===1)if(!a.className)a.className=b;else{var d=" "+a.className+" ",e=a.className;for(var f=0,g=c.length;f<g;f++)d.indexOf(" "+c[f]+" ")<0&&(e+=" "+c[f]);a.className=e.replace(/^\s+|\s+$/g,"")}}return a},f=function(a,b){if(a.removeClass)return a.removeClass(b),a;if(b&&typeof b=="string"||b===undefined){var c=(b||"").split(/\s+/);if(a.nodeType===1&&a.className)if(b){var d=(" "+a.className+" ").replace(/[\n\t]/g," ");for(var e=0,f=c.length;e<f;e++)d=d.replace(" "+c[e]+" "," ");a.className=d.replace(/^\s+|\s+$/g,"")}else a.className=""}return a},g=function(b){var c={left:0,top:0,width:b.width||b.offsetWidth||0,height:b.height||b.offsetHeight||0,zIndex:9999},d=a(b,"zIndex");d&&d!="auto"&&(c.zIndex=parseInt(d,10));while(b){var e=parseInt(a(b,"borderLeftWidth"),10),f=parseInt(a(b,"borderTopWidth"),10);c.left+=isNaN(b.offsetLeft)?0:b.offsetLeft,c.left+=isNaN(e)?0:e,c.top+=isNaN(b.offsetTop)?0:b.offsetTop,c.top+=isNaN(f)?0:f,b=b.offsetParent}return c},h=function(a){return(a.indexOf("?")>=0?"&":"?")+"nocache="+(new Date).getTime()},i=function(){var a=[];return k._trustedDomain&&a.push("trustedDomain="+k._trustedDomain),a.join("&")},j=function(a,b){if(b.indexOf)return b.indexOf(a);for(var c=0,d=b.length;c<d;c++)if(b[c]===a)return c;return-1},k=function(a){a&&(k.prototype._singleton||this).glue(a);if(k.prototype._singleton)return k.prototype._singleton;k.prototype._singleton=this,this.handlers={},this._text=null,k.detectFlashSupport()&&this.bridge()},l,m=[];k.prototype.setCurrent=function(b){l=b,this.reposition(),this.setText(this._text||b.getAttribute("data-clipboard-text")),b.getAttribute("title")&&this.setTitle(b.getAttribute("title")),this.setHandCursor(a(b,"cursor")=="pointer")},k.prototype.setText=function(a){a&&a!==""&&(this._text=a,this.ready()&&this.flashBridge.setText(a))},k.prototype.resetText=function(){this._text=null},k.prototype.setTitle=function(a){a&&a!==""&&this.htmlBridge.setAttribute("title",a)},k.prototype.setSize=function(a,b){this.ready()&&this.flashBridge.setSize(a,b)},k.prototype.setHandCursor=function(a){this.ready()&&this.flashBridge.setHandCursor(a)},k.version="1.1.6",k._moviePath="ZeroClipboard.swf",k.setMoviePath=function(a){this._moviePath=a},k.setTrustedDomain=function(a){this._trustedDomain=a},k.destroy=function(){var a=document.getElementById("global-zeroclipboard-html-bridge");if(!a)return;k.prototype._singleton.unglue(m),delete k.prototype._singleton,delete k._trustedDomain,k._moviePath="ZeroClipboard.swf",a.parentNode.removeChild(a)},k.detectFlashSupport=function(){var a=!1;try{new ActiveXObject("ShockwaveFlash.ShockwaveFlash")&&(a=!0)}catch(b){navigator.mimeTypes["application/x-shockwave-flash"]&&(a=!0)}return a},k.prototype.bridge=function(){this.htmlBridge=document.getElementById("global-zeroclipboard-html-bridge");if(this.htmlBridge){this.flashBridge=document["global-zeroclipboard-flash-bridge"];return}var a='    <object classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000" id="global-zeroclipboard-flash-bridge" width="100%" height="100%">       <param name="movie" value="'+k._moviePath+h(k._moviePath)+'"/>       <param name="allowScriptAccess" value="always" />       <param name="scale" value="exactfit">       <param name="loop" value="false" />       <param name="menu" value="false" />       <param name="quality" value="best" />       <param name="bgcolor" value="#ffffff" />       <param name="wmode" value="transparent"/>       <param name="flashvars" value="'+i()+'"/>       <embed src="'+k._moviePath+h(k._moviePath)+'"         loop="false" menu="false"         quality="best" bgcolor="#ffffff"         width="100%" height="100%"         name="global-zeroclipboard-flash-bridge"         allowScriptAccess="always"         allowFullScreen="false"         type="application/x-shockwave-flash"         wmode="transparent"         pluginspage="http://www.macromedia.com/go/getflashplayer"         flashvars="'+i()+'"         scale="exactfit">       </embed>     </object>';this.htmlBridge=document.createElement("div"),this.htmlBridge.id="global-zeroclipboard-html-bridge",this.htmlBridge.setAttribute("class","global-zeroclipboard-container"),this.htmlBridge.setAttribute("data-clipboard-ready",!1),this.htmlBridge.style.position="absolute",this.htmlBridge.style.left="-9999px",this.htmlBridge.style.top="-9999px",this.htmlBridge.style.width="15px",this.htmlBridge.style.height="15px",this.htmlBridge.style.zIndex="9999",this.htmlBridge.innerHTML=a,document.body.appendChild(this.htmlBridge),this.flashBridge=document["global-zeroclipboard-flash-bridge"]},k.prototype.resetBridge=function(){this.htmlBridge.style.left="-9999px",this.htmlBridge.style.top="-9999px",this.htmlBridge.removeAttribute("title"),this.htmlBridge.removeAttribute("data-clipboard-text"),f(l,"zeroclipboard-is-active"),l=null},k.prototype.ready=function(){var a=this.htmlBridge.getAttribute("data-clipboard-ready");return a==="true"||a===!0},k.prototype.reposition=function(){if(!l)return!1;var a=g(l);this.htmlBridge.style.top=a.top+"px",this.htmlBridge.style.left=a.left+"px",this.htmlBridge.style.width=a.width+"px",this.htmlBridge.style.height=a.height+"px",this.htmlBridge.style.zIndex=a.zIndex+1,this.setSize(a.width,a.height)},k.dispatch=function(a,b){k.prototype._singleton.receiveEvent(a,b)},k.prototype.on=function(a,b){var c=a.toString().split(/\s/g);for(var d=0;d<c.length;d++)a=c[d].toLowerCase().replace(/^on/,""),this.handlers[a]||(this.handlers[a]=b);this.handlers.noflash&&!k.detectFlashSupport()&&this.receiveEvent("onNoFlash",null)},k.prototype.addEventListener=function(a,b){this.on(a,b)},k.prototype.receiveEvent=function(a,b){a=a.toString().toLowerCase().replace(/^on/,"");var c=l;switch(a){case"load":if(b&&parseFloat(b.flashVersion.replace(",",".").replace(/[^0-9\.]/gi,""))<10){this.receiveEvent("onWrongFlash",{flashVersion:b.flashVersion});return}this.htmlBridge.setAttribute("data-clipboard-ready",!0);break;case"mouseover":e(c,"zeroclipboard-is-hover");break;case"mouseout":f(c,"zeroclipboard-is-hover"),this.resetBridge();break;case"mousedown":e(c,"zeroclipboard-is-active");break;case"mouseup":f(c,"zeroclipboard-is-active");break;case"complete":this.resetText()}if(this.handlers[a]){var d=this.handlers[a];typeof d=="function"?d.call(c,this,b):typeof d=="string"&&window[d].call(c,this,b)}},k.prototype.glue=function(a){if(typeof a=="string")throw new TypeError("ZeroClipboard doesn't accept query strings.");a.length||(a=[a]);for(var d=0;d<a.length;d++)j(a[d],m)==-1&&(m.push(a[d]),c(a[d],"mouseover",b))},k.prototype.unglue=function(a){if(typeof a=="string")throw new TypeError("ZeroClipboard doesn't accept query strings.");a.length||(a=[a]);for(var c=0;c<a.length;c++){d(a[c],"mouseover",b);var e=j(a[c],m);e!=-1&&m.splice(e,1)}},typeof module!="undefined"?module.exports=k:window.ZeroClipboard=k})();